@utility search-highlight-focus {
  /* Search highlight styles */
  @apply ring-8 ring-yellow-700/75;
  transition: all var(--search-focus-duration) ease-in-out;
}

@utility search-highlight-match {
  @apply ring-4 ring-yellow-400/75;
  transition: all var(--search-focus-duration) ease-in-out;
}

@utility search-highlight-end-node {
  animation: search-pulse var(--search-focus-duration) ease-in-out infinite;
}

@utility ui-button {
  /* Base button styles */
  @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
}

@utility ui-button-size-default {
  /* Size variants */
  @apply h-10 px-4 py-2;
}

@utility ui-button-size-sm {
  @apply h-9 rounded-md px-3;
}

@utility ui-button-size-lg {
  @apply h-11 rounded-md px-8;
}

@utility ui-button-size-icon {
  @apply h-10 w-10;
}

@utility ui-button-variant-default {
  /* Variant styles */
  @apply bg-primary text-primary-foreground hover:bg-primary/90;
}

@utility ui-button-variant-destructive {
  @apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
}

@utility ui-button-variant-outline {
  @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
}

@utility ui-button-variant-secondary {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
}

@utility ui-button-variant-ghost {
  @apply hover:bg-accent hover:text-accent-foreground;
}

@utility ui-button-variant-link {
  @apply text-primary underline-offset-4 hover:underline;
}

@utility dropdown-menu-content {
  /* ----------------- Dropdown -----------------*/
  /* Base styles for dropdown menu components */
  @apply z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md
    data-[state=open]:animate-in data-[state=closed]:animate-out
    data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
    data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
    data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
    data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2;
}

@utility dropdown-menu-item {
  @apply relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm
        outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground
        data-disabled:pointer-events-none data-disabled:opacity-50;
}

@utility dropdown-menu-item-inset {
  @apply pl-8;
}

@utility dropdown-menu-sub-trigger {
  @apply flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden
        focus:bg-accent data-[state=open]:bg-accent;
}

@utility dropdown-menu-sub-trigger-inset {
  @apply pl-8;
}

@utility dropdown-menu-sub-content {
  @apply z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg
        data-[state=open]:animate-in data-[state=closed]:animate-out
        data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
        data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
        data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
        data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2;
}

@utility dropdown-menu-label {
  @apply px-2 py-1.5 text-sm font-semibold;
}

@utility dropdown-menu-label-inset {
  @apply pl-8;
}

@utility dropdown-menu-separator {
  @apply -mx-1 my-1 h-px bg-muted;
}

@utility dropdown-menu-shortcut {
  @apply ml-auto text-xs tracking-widest opacity-60;
}

@utility dropdown-menu-checkbox-item {
  @apply relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm
        outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground
        data-disabled:pointer-events-none data-disabled:opacity-50;
}

@utility dropdown-menu-radio-item {
  @apply relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm
        outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground
        data-disabled:pointer-events-none data-disabled:opacity-50;
}

@utility dropdown-menu-item-indicator {
  @apply absolute left-2 flex h-3.5 w-3.5 items-center justify-center;
}

@utility dropdown-menu-chevron {
  @apply ml-auto h-4 w-4;
}

@utility tooltip-content {
  /* -------------------- Tooltip ---------------- */
  /* Base styles for tooltip content */
  @apply z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md
        animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out
        data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95
        data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
        data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2;
}

@utility scrollarea-root {
  /* ----------------- ScrollArea ----------------- */
  /* Base styles for the ScrollArea component */
  @apply relative overflow-hidden;
}

@utility scrollarea-viewport {
  @apply h-full w-full rounded-[inherit];

  /* Override Radix's inner wrapper that causes horizontal overflow */
  & > div {
    display: block !important;
    min-width: 0 !important;
  }
}

@utility scrollbar {
  @apply flex touch-none select-none transition-colors;
}

@utility scrollbar-vertical {
  /* Styles for vertical scroll bar */
  @apply h-full w-2.5 border-l border-l-transparent p-px;
}

@utility scrollbar-horizontal {
  /* Styles for horizontal scroll bar */
  @apply h-2.5 flex-col border-t border-t-transparent p-px;
}

@utility scrollbar-thumb {
  /* Scroll bar thumb styles */
  @apply relative flex-1 rounded-full bg-border;
}

@layer components {
    /* Search and Focus Variables */
    :root {
        --search-focus-padding: 0.3;
        --search-zoom-speed: 300;
        --search-center-padding: 30;
        --search-focus-duration: 300ms;
    }
    
    @keyframes search-pulse {
        0%, 100% { 
            opacity: 1; 
            transform: scale(1);
        }
        50% { 
            opacity: 0.7; 
            transform: scale(1.02);
        }
    }

    /* Allow the height to adjust to the content, it does not by default for some reason */
    [data-sonner-toast][data-expanded="true"] {
        height: auto
    }
}